{% extends "index.html" %}
{% load static %}
{% block policywiseresult %}

<head>
	<meta content="noindex, nofollow" name="robots">
	<!-- Including CSS File Here -->
	<link href={% static "style.css" %} rel="stylesheet" type="text/css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<!-- Including JS File Here -->
	<script src={% static "multi_step_form.js" %} ></script>
		  
</head>

{% if error_message %}
<div class="table-container">
	<b><p style="color:red;">{{error_message}} </p> </b>
</div>
{% else %}

<div class="content">
	<!-- Multistep Form -->
	<div >
	
		<!-- Progressbar -->
		<ul id="progressbar" class ="resultpages">
			<li id="active1" >Policy Wise</li>
			<li id="active2">Location Wise</li>
		</ul>

	<fieldset id="first">	
		<div class="table-container">
		<table class="policywiseresult">
		<tr class = "policyheaders">
			<th></th>
			<th colspan="2">From Ground Up (FGU)</th>
			<th colspan="2">Layer 1</th>
			<th colspan="2">Layer 2</th>
			<th colspan="2">Layer 3</th>
			<th colspan="2">Layer 4</th>
			<th colspan="2">Layer 5</th>
		</tr>
		<tr class = "policyheaders cheader frzcolumn">
			<th> Types/Peril </th>
			<th>Model expected <br>loss cost </th>
			<th>Underwriter <br>Adjustment <br>Premium </th>
			<th>Model expected <br>loss cost </th>
			<th>Underwriter <br>Adjustment <br>Premium </th>
			<th>Model expected <br>loss cost </th>
			<th>Underwriter <br>Adjustment <br>Premium </th>
			<th>Model expected <br>loss cost </th>
			<th>Underwriter <br>Adjustment <br>Premium </th>
			<th>Model expected <br>loss cost </th>
			<th>Underwriter <br>Adjustment <br>Premium </th>
			<th>Model expected <br>loss cost </th>
			<th>Underwriter <br>Adjustment <br>Premium </th>
		</tr>
			{% for x in insurable_asset.itertuples %}

			{% if x.peril_name == 'Fire Capped' and x.layer_id == "Layer 1" %}
			<tr >
				<th class = "policyheaders">Fire Capped</th>
				<td id="Fire Capped"> {{aggr_fire_capped}}
				</td>
				<td></td>
				<td> {{x.fgu_loss}}</td>
				<td> {{x.adj_los}} </td>
				
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
			{% elif x.peril_name == 'Fire Excess' and x.layer_id == "Layer 1" %}
		<tr>
			<th class = "policyheaders">Fire Excess</th>
			<td id="Fire Excess"> {{aggr_fire_excess}} </td>
			<td></td>
			<td>{{x.fgu_loss}}</td>
			<td>{{x.adj_los}}</td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th class = "policyheaders">Lightning</th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr class="cheader" >
			<th class = "policyheaders">Fire <span>-</span></th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
			{% elif x.peril_name == 'Water' and x.layer_id == "Layer 1" %}
		<tr>
			<th class = "policyheaders">Water</th>
			<td>{{aggr_water}} </td>
			<td></td>
			<td>{{x.fgu_loss}}</td>
			<td>{{x.adj_los}}</td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th class = "policyheaders">Accidental Damage</th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th class = "policyheaders">Subsidence</th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
			{% elif x.peril_name == 'Impact' and x.layer_id == "Layer 1" %}
		<tr>
			<th class = "policyheaders">Impact</th>
			<td> {{aggr_impact}} </td>
			<td></td>
			<td>{{x.fgu_loss}}</td>
			<td>{{x.adj_los}}</td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr class="cheader">
			<th class = "policyheaders">Impact <span> - </span> </th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
			{% elif x.peril_name == 'Theft' and x.layer_id == "Layer 1" %}
		<tr >
			<th class = "policyheaders">Theft </th>
			<td> {{aggr_theft}}</td>
			<td></td>
			<td>{{x.fgu_loss}}</td>
			<td>{{x.adj_los}}</td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th class = "policyheaders">Malicious Damage </th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr class="cheader">
			<th class = "policyheaders">Theft <span> - <span></th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th class = "policyheaders">Others</th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr class="cheader">
			<th class = "policyheaders">Total Non-CAT </th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th class = "policyheaders">Earthquake</th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th class = "policyheaders">Windstorm</th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th class = "policyheaders">Convective Storm</th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th class = "policyheaders">Winterstorm</th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th class = "policyheaders">Flood</th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th class = "policyheaders">Wildfire/Bushfire</th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<th class = "policyheaders">Non-Modelled</th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr class="cheader">
			<th class = "policyheaders">Total CAT <span> - </span></th>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>

				{% endif %}
				{% endfor %}
		</table>
		</div>
		</fieldset>	
	<fieldset id="second">	
		<div class="table-container">
			<table >
			<tr>
				<th class = "policyheaders"> </th>
				<th colspan="9">Non CAT </th>
				<th colspan="7">CAT </th>
			</tr>
			<tr>
				<th class = "policyheaders">Insurable <br> Asset id</th>
				<th >Fire Capped</th>
				<th >Fire Capped Lightning</th>
				<th >Fire Excess</th>
				<th >Water</th>
				<th >Impact Accidental Damage</th>
				<th >Impact Subsidence</th>
				<th >Impact</th>
				<th >Theft</th>
				<th >Theft Malicious Damage</th>
				<th >Earthquake</th>
				<th >Windstorm</th>
				<th >Convective Storm</th>
				<th >Winterstorm</th>
				<th >Flood</th>
				<th >Wildfire / Bushfire</th>
				<th >Non-Modelled</th>
					
			</tr>
			{% for x in insurable_asset.itertuples %}
			
			
			{% if x.peril_name == 'Fire Capped' and x.layer_id == None %}
			<tr> <td class = "policyheaders">{{x.insurable_asset_id}} </td> <td>{{x.fgu_loss}} </td> <td> </td>
			{% endif %}
			{% if x.peril_name == 'Fire Excess' and x.layer_id == None %}
				<td>{{x.fgu_loss}} </td>
			{% endif %}
			{% if x.peril_name == 'Water' and x.layer_id == None %}
				<td>{{x.fgu_loss}} </td> <td></td> <td> </td>
			{% endif %}
			{% if x.peril_name == 'Impact' and x.layer_id == None %}
				<td>{{x.fgu_loss}} </td>
			{% endif %}

			{% if x.peril_name == 'Theft' and x.layer_id == None %}
				<td>{{x.fgu_loss}} </td> </tr>
			{% endif %}
			
			{% endfor %}
		
			</table>
		</div>
		</fieldset>	
	</div>
</div>	 
{% endif %}


  {% endblock policywiseresult %}
